<svg viewBox="0 0 600 450" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .custom-fonts {
        font-family: Inter, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      }
    </style>
    <marker id="arrowhead" markerWidth="5" markerHeight="3" 
     refX="4" refY="1.5" orient="auto">
      <polygon points="0 0, 5 1.5, 0 3" fill="#6c7b7f" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="600" height="450" fill="transparent"/>
  
  <!-- Physical Memory Block -->
  <rect x="200" y="35" width="200" height="350" fill="#f9fafb" stroke="#6c7b7f" stroke-width="2"/>
  <text x="300" y="25" text-anchor="middle" class="custom-fonts" font-size="12" font-weight="bold" fill="#6c7b7f">Physical Memory</text>
  
  <!-- Publisher Buffer -->
  <rect x="220" y="55" width="160" height="55" fill="#e5e7eb" stroke="#6c7b7f" stroke-width="2" stroke-dasharray="3,2"/>
  <text x="300" y="72" text-anchor="middle" class="custom-fonts" font-size="11" font-weight="normal" fill="#6c7b7f">Participant Memory</text>
  <!-- Original data -->
  <rect x="230" y="80" width="140" height="10" fill="#4b5563"/>
  <text x="300" y="87" text-anchor="middle" class="custom-fonts" font-size="8" fill="white">Original Data (100 MB)</text>
  <!-- Serialized data -->
  <rect x="230" y="93" width="140" height="10" fill="#4b5563"/>
  <text x="300" y="100" text-anchor="middle" class="custom-fonts" font-size="8" fill="white">Serialized Data (~100 MB)</text>
  
  <!-- Kernel Buffers -->
  <rect x="220" y="125" width="160" height="35" fill="#f3f4f6" stroke="#6b7280" stroke-width="2"/>
  <text x="300" y="142" text-anchor="middle" class="custom-fonts" font-size="11" font-weight="normal" fill="#6c7b7f">Network Stack</text>
  <text x="300" y="154" text-anchor="middle" class="custom-fonts" font-size="9" fill="#6b7280">Buffered Data (~100 MB)</text>
  
  <!-- Subscriber 1 Buffer -->
  <rect x="220" y="180" width="160" height="50" fill="#e5e7eb" stroke="#6c7b7f" stroke-width="2" stroke-dasharray="3,2"/>
  <text x="300" y="193" text-anchor="middle" class="custom-fonts" font-size="11" font-weight="normal" fill="#6c7b7f">Participant Memory</text>
  <!-- Received data -->
  <rect x="230" y="200" width="140" height="10" fill="#4b5563"/>
  <text x="300" y="207" text-anchor="middle" class="custom-fonts" font-size="8" fill="white">Received Data (~100 MB)</text>
  <!-- Deserialized data -->
  <rect x="230" y="213" width="140" height="10" fill="#4b5563"/>
  <text x="300" y="220" text-anchor="middle" class="custom-fonts" font-size="8" fill="white">Deserialized Data (100 MB)</text>
  
  <!-- Subscriber 2 Buffer -->
  <rect x="220" y="245" width="160" height="50" fill="#e5e7eb" stroke="#6c7b7f" stroke-width="2" stroke-dasharray="3,2"/>
  <text x="300" y="258" text-anchor="middle" class="custom-fonts" font-size="11" font-weight="normal" fill="#6c7b7f">Participant Memory</text>
  <!-- Received data -->
  <rect x="230" y="265" width="140" height="10" fill="#4b5563"/>
  <text x="300" y="272" text-anchor="middle" class="custom-fonts" font-size="8" fill="white">Received Data (~100 MB)</text>
  <!-- Deserialized data -->
  <rect x="230" y="278" width="140" height="10" fill="#4b5563"/>
  <text x="300" y="285" text-anchor="middle" class="custom-fonts" font-size="8" fill="white">Deserialized Data (100 MB)</text>
  
  <!-- Subscriber 3 Buffer -->
  <rect x="220" y="310" width="160" height="50" fill="#e5e7eb" stroke="#6c7b7f" stroke-width="2" stroke-dasharray="3,2"/>
  <text x="300" y="323" text-anchor="middle" class="custom-fonts" font-size="11" font-weight="normal" fill="#6c7b7f">Participant Memory</text>
  <!-- Received data -->
  <rect x="230" y="330" width="140" height="10" fill="#4b5563"/>
  <text x="300" y="337" text-anchor="middle" class="custom-fonts" font-size="8" fill="white">Received Data (~100 MB)</text>
  <!-- Deserialized data -->
  <rect x="230" y="343" width="140" height="10" fill="#4b5563"/>
  <text x="300" y="350" text-anchor="middle" class="custom-fonts" font-size="8" fill="white">Deserialized Data (100 MB)</text>
  
  <!-- Publisher -->
  <rect x="60" y="70" width="90" height="30" fill="#f9fafb" stroke="#6c7b7f" stroke-width="2"/>
  <text x="105" y="88" text-anchor="middle" class="custom-fonts" font-size="10" font-weight="bold" fill="#6c7b7f">Participant</text>
  
  <!-- Subscribers -->
  <rect x="450" y="203" width="90" height="30" fill="#f9fafb" stroke="#6c7b7f" stroke-width="2"/>
  <text x="495" y="221" text-anchor="middle" class="custom-fonts" font-size="10" font-weight="bold" fill="#6c7b7f">Participant</text>
  
  <rect x="450" y="268" width="90" height="30" fill="#f9fafb" stroke="#6c7b7f" stroke-width="2"/>
  <text x="495" y="286" text-anchor="middle" class="custom-fonts" font-size="10" font-weight="bold" fill="#6c7b7f">Participant</text>
  
  <rect x="450" y="333" width="90" height="30" fill="#f9fafb" stroke="#6c7b7f" stroke-width="2"/>
  <text x="495" y="351" text-anchor="middle" class="custom-fonts" font-size="10" font-weight="bold" fill="#6c7b7f">Participant</text>
  
  <!-- Data Flow Arrows -->
  
  <!-- Publisher to publisher buffer -->
  <line x1="150" y1="85" x2="230" y2="85" stroke="#6c7b7f" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="185" y="80" text-anchor="middle" class="custom-fonts" font-size="9" fill="#6c7b7f">write</text>
  
  <!-- Publisher buffer to kernel -->
  <line x1="300" y1="104" x2="300" y2="123" stroke="#6c7b7f" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="305" y="120" font-size="9" class="custom-fonts" fill="#6c7b7f">copy</text>
  
  <!-- Kernel buffer branching pattern -->
  <!-- Horizontal line from kernel buffer to the left -->
  <line x1="220" y1="142" x2="180" y2="142" stroke="#6c7b7f" stroke-width="2"/>
  
  <!-- Vertical line down the left side -->
  <line x1="180" y1="142" x2="180" y2="335" stroke="#6c7b7f" stroke-width="2"/>
  
  <!-- Horizontal arrows into each subscriber buffer -->
  <line x1="180" y1="205" x2="230" y2="205" stroke="#6c7b7f" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="155" y="207" font-size="9" class="custom-fonts" fill="#6c7b7f">copy</text>
  
  <line x1="180" y1="270" x2="230" y2="270" stroke="#6c7b7f" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="155" y="272" font-size="9" class="custom-fonts" fill="#6c7b7f">copy</text>
  
  <line x1="180" y1="335" x2="230" y2="335" stroke="#6c7b7f" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="155" y="337" font-size="9" class="custom-fonts" fill="#6c7b7f">copy</text>
  
  <!-- Subscribers reading from their buffers -->
  <line x1="370" y1="218" x2="450" y2="218" stroke="#6c7b7f" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="415" y="214" text-anchor="middle" class="custom-fonts" font-size="9" fill="#6c7b7f">read</text>
  
  <line x1="370" y1="283" x2="450" y2="283" stroke="#6c7b7f" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="415" y="279" text-anchor="middle" class="custom-fonts" font-size="9" fill="#6c7b7f">read</text>
  
  <line x1="370" y1="348" x2="450" y2="348" stroke="#6c7b7f" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="415" y="344" text-anchor="middle" class="custom-fonts" font-size="9" fill="#6c7b7f">read</text>
  
  <!-- Total Memory Label -->
  <text x="300" y="405" text-anchor="middle" class="custom-fonts" font-size="12" font-weight="normal" fill="#6c7b7f">Total Memory: ~900 MB</text>
  
</svg>
