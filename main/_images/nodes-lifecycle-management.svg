<svg viewBox="0 0 600 450" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="healthy_circle" markerWidth="3" markerHeight="3" 
     refX="1.5" refY="1.5" orient="auto">
      <circle cx="1.5" cy="1.5" r="0.8" fill="#6c7b7f" stroke="#374151" stroke-width="0.5"/>
    </marker>
    <marker id="failed_circle" markerWidth="3" markerHeight="3" 
     refX="1.5" refY="1.5" orient="auto">
      <circle cx="1.5" cy="1.5" r="0.8" fill="transparent" stroke="#4b5563" stroke-width="0.5"/>
    </marker>
    <marker id="monitoring_circle" markerWidth="3" markerHeight="3" 
     refX="1.5" refY="1.5" orient="auto">
      <circle cx="1.5" cy="1.5" r="0.8" fill="#9ca3af" stroke="#6c7b7f" stroke-width="0.5"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="600" height="450" fill="transparent"/>
  
  <!-- Healthy Node A -->
  <rect x="75" y="60" width="90" height="60" fill="#4b5563" stroke="#374151" stroke-width="2" />
  <text x="120" y="79" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Node A</text>
  <text x="120" y="93" text-anchor="middle" font-size="9" fill="white">Participant 1</text>
  <text x="120" y="107" text-anchor="middle" font-size="9" fill="white">Status: ALIVE</text>
  
  <!-- Healthy Node B -->
  <rect x="255" y="60" width="90" height="60" fill="#4b5563" stroke="#374151" stroke-width="2" />
  <text x="300" y="79" text-anchor="middle" font-size="11" font-weight="bold" fill="white">Node B</text>
  <text x="300" y="93" text-anchor="middle" font-size="9" fill="white">Participant 2</text>
  <text x="300" y="107" text-anchor="middle" font-size="9" fill="white">Status: ALIVE</text>
  
  <!-- Failed Node C -->
  <rect x="435" y="60" width="90" height="60" fill="transparent" stroke="#4b5563" stroke-width="2" stroke-dasharray="3,2" />
  <text x="480" y="79" text-anchor="middle" font-size="11" font-weight="bold" fill="#6c7b7f">Node C</text>
  <text x="480" y="93" text-anchor="middle" font-size="9" fill="#6c7b7f">Participant 3</text>
  <text x="480" y="107" text-anchor="middle" font-size="9" fill="#6c7b7f">Status: DEAD</text>
  
  <!-- Monitoring arrows between healthy nodes -->
  <line x1="165" y1="83" x2="255" y2="83" stroke="#9ca3af" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#monitoring_circle)"/>
  <line x1="255" y1="97" x2="165" y2="97" stroke="#9ca3af" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#monitoring_circle)"/>
  
  <!-- Monitoring arrows to failed node -->
  <line x1="345" y1="83" x2="435" y2="83" stroke="#4b5563" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#failed_circle)"/>
  <line x1="345" y1="97" x2="435" y2="97" stroke="#4b5563" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#failed_circle)"/>
  
  <!-- Services managed by nodes -->
  <rect x="60" y="165" width="60" height="30" fill="#e5e7eb" stroke="#6c7b7f" stroke-width="2" />
  <text x="90" y="183" text-anchor="middle" font-size="9" font-weight="bold" fill="#374151">Service</text>
  
  <rect x="135" y="165" width="60" height="30" fill="#e5e7eb" stroke="#6c7b7f" stroke-width="2" />
  <text x="165" y="183" text-anchor="middle" font-size="9" font-weight="bold" fill="#374151">Service</text>
  
  <rect x="270" y="165" width="60" height="30" fill="#e5e7eb" stroke="#6c7b7f" stroke-width="2" />
  <text x="300" y="183" text-anchor="middle" font-size="9" font-weight="bold" fill="#374151">Service</text>
  
  <!-- Service from failed node -->
  <rect x="450" y="165" width="60" height="30" fill="transparent" stroke="#4b5563" stroke-width="2" stroke-dasharray="3,2" />
  <text x="480" y="183" text-anchor="middle" font-size="9" fill="#6c7b7f">Service</text>
  
  <!-- Ports for Service 1 -->
  <rect x="76" y="220" width="28" height="14" stroke="#6c7b7f" stroke-width="2" fill="#e5e7eb"/>
  <text x="90" y="230" text-anchor="middle" font-size="7" font-weight="bold" fill="#374151">Port</text>
  
  <!-- Ports for Service 2 -->
  <rect x="151" y="220" width="28" height="14" stroke="#6c7b7f" stroke-width="2" fill="#e5e7eb"/>
  <text x="165" y="230" text-anchor="middle" font-size="7" font-weight="bold" fill="#374151">Port</text>
  
  <!-- Ports for Service 3 -->
  <rect x="286" y="220" width="28" height="14" stroke="#6c7b7f" stroke-width="2" fill="#e5e7eb"/>
  <text x="300" y="230" text-anchor="middle" font-size="7" font-weight="bold" fill="#374151">Port</text>
  
  <!-- Port for failed service -->
  <rect x="466" y="220" width="28" height="14" fill="transparent" stroke="#4b5563" stroke-width="2" stroke-dasharray="3,2"/>
  <text x="480" y="230" text-anchor="middle" font-size="7" font-weight="bold" fill="#6c7b7f">Port</text>
  
  <!-- Management connections from healthy nodes to their services -->
  <line x1="105" y1="120" x2="90" y2="165" stroke="#6c7b7f" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#healthy_circle)"/>
  <line x1="135" y1="120" x2="165" y2="165" stroke="#6c7b7f" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#healthy_circle)"/>
  <line x1="300" y1="120" x2="300" y2="165" stroke="#6c7b7f" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#healthy_circle)"/>
  
  <!-- Port-to-Service connections -->
  <line x1="90" y1="195" x2="90" y2="220" stroke="#6c7b7f" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#healthy_circle)"/>
  <line x1="165" y1="195" x2="165" y2="220" stroke="#6c7b7f" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#healthy_circle)"/>
  <line x1="300" y1="195" x2="300" y2="220" stroke="#6c7b7f" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#healthy_circle)"/>

  <line x1="480" y1="120" x2="480" y2="165" stroke="#4b5563" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#failed_circle)"/>
  <line x1="480" y1="195" x2="480" y2="220" stroke="#4b5563" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#failed_circle)"/>
  
  <!-- Legend -->
  <rect x="38" y="265" width="525" height="90" fill="#f9fafb" stroke="#9ca3af" stroke-width="1" />
  <text x="53" y="285" font-size="10" font-weight="bold" fill="#6c7b7f">Legend:</text>
  
  <!-- Legend items -->
  <line x1="53" y1="300" x2="75" y2="300" stroke="#9ca3af" stroke-width="2" stroke-dasharray="4,4"/>
  <circle cx="77" cy="300" r="0.8" fill="#9ca3af" stroke="#6c7b7f" stroke-width="0.5"/>
  <text x="85" y="304" font-size="8" fill="#6c7b7f">Peer-to-peer monitoring</text>
  
  <line x1="225" y1="300" x2="247" y2="300" stroke="#6c7b7f" stroke-width="2" stroke-dasharray="4,4"/>
  <circle cx="249" cy="300" r="0.8" fill="#6c7b7f" stroke="#374151" stroke-width="0.5"/>
  <text x="257" y="304" font-size="8" fill="#6c7b7f">Service/Port lifecycle management</text>
  
  <line x1="53" y1="315" x2="75" y2="315" stroke="#4b5563" stroke-width="2" stroke-dasharray="4,4"/>
  <circle cx="77" cy="315" r="0.8" fill="transparent" stroke="#4b5563" stroke-width="0.5"/>
  <text x="85" y="319" font-size="8" fill="#6c7b7f">Failed node connections</text>
  
  <rect x="53" y="325" width="12" height="12" fill="#4b5563" stroke="#374151" stroke-width="1"/>
  <text x="72" y="334" font-size="8" fill="#6c7b7f">Alive node</text>
  
  <rect x="128" y="325" width="12" height="12" fill="transparent" stroke="#4b5563" stroke-width="1" stroke-dasharray="3,2"/>
  <text x="147" y="334" font-size="8" fill="#6c7b7f">Dead node</text>
  
</svg>
