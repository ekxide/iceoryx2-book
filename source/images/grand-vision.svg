<svg viewBox="0 0 600 450" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrow" markerWidth="6" markerHeight="6" 
     refX="5" refY="3" orient="auto">
      <polygon points="0,0 0,6 6,3" fill="#6c7b7f"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="600" height="450" fill="transparent"/>

  <!-- Application Layer -->
  
  <!-- Direct iceoryx2 Apps (leftmost section) -->
  <rect x="30" y="85" width="40" height="30" fill="#e5e7eb" stroke="#6c7b7f" stroke-width="1" />
  <text x="50" y="97" text-anchor="middle" font-size="8" font-weight="bold" fill="#1f2937">iceoryx2</text>
  <text x="50" y="107" text-anchor="middle" font-size="8" fill="#1f2937">App</text>
  
  <rect x="80" y="85" width="40" height="30" fill="#e5e7eb" stroke="#6c7b7f" stroke-width="1" />
  <text x="100" y="97" text-anchor="middle" font-size="8" font-weight="bold" fill="#1f2937">iceoryx2</text>
  <text x="100" y="107" text-anchor="middle" font-size="8" fill="#1f2937">App</text>

  <!-- Tunnel Applications (second section) -->
  <rect x="165" y="85" width="35" height="30" fill="#f9fafb" stroke="#6b7280" stroke-width="1" />
  <text x="182" y="97" text-anchor="middle" font-size="7" font-weight="bold" fill="#1f2937">iceoryx2</text>
  <text x="182" y="107" text-anchor="middle" font-size="7" fill="#1f2937">App</text>

  <!-- Gateway Applications (third section) -->
  <rect x="270" y="85" width="35" height="30" fill="#f9fafb" stroke="#6b7280" stroke-width="1" />
  <text x="287" y="97" text-anchor="middle" font-size="7" font-weight="bold" fill="#1f2937">Zenoh</text>
  <text x="287" y="107" text-anchor="middle" font-size="7" fill="#1f2937">App</text>
  
  <rect x="315" y="85" width="35" height="30" fill="#f9fafb" stroke="#6b7280" stroke-width="1" />
  <text x="332" y="97" text-anchor="middle" font-size="7" font-weight="bold" fill="#1f2937">DDS</text>
  <text x="332" y="107" text-anchor="middle" font-size="7" fill="#1f2937">App</text>
  
  <!-- ROS 2 Apps (fourth section) -->
  <rect x="400" y="85" width="35" height="30" fill="#f9fafb" stroke="#6b7280" stroke-width="1" />
  <text x="417" y="97" text-anchor="middle" font-size="7" font-weight="bold" fill="#1f2937">ROS 2</text>
  <text x="417" y="107" text-anchor="middle" font-size="7" fill="#1f2937">App</text>
  
  <rect x="445" y="85" width="35" height="30" fill="#f9fafb" stroke="#6b7280" stroke-width="1" />
  <text x="462" y="97" text-anchor="middle" font-size="7" font-weight="bold" fill="#1f2937">ROS 2</text>
  <text x="462" y="107" text-anchor="middle" font-size="7" fill="#1f2937">Tool</text>
  
  <!-- AUTOSAR Apps (rightmost section) -->
  <rect x="540" y="85" width="40" height="30" fill="#f9fafb" stroke="#6b7280" stroke-width="1" />
  <text x="560" y="97" text-anchor="middle" font-size="7" font-weight="bold" fill="#1f2937">AUTOSAR</text>
  <text x="560" y="107" text-anchor="middle" font-size="7" fill="#1f2937">App</text>

  <!-- Middleware Layer - Now evenly distributed -->
  
  <!-- Tunnel (aligned under tunnel apps) -->
  <rect x="140" y="135" width="100" height="35" fill="#e5e7eb" stroke="#6c7b7f" stroke-width="1" />
  <text x="190" y="147" text-anchor="middle" font-size="8" font-weight="bold" fill="#1f2937">tunnel</text>
  <rect x="150" y="153" width="30" height="12" fill="#9ca3af"/>
  <text x="165" y="161" text-anchor="middle" font-size="6" fill="white">Zenoh</text>
  <rect x="185" y="153" width="30" height="12" fill="#9ca3af"/>
  <text x="200" y="161" text-anchor="middle" font-size="6" fill="white">smoltcp</text>
  <rect x="220" y="153" width="15" height="12" fill="#9ca3af"/>
  <text x="227" y="161" text-anchor="middle" font-size="6" fill="white">...</text>

  <!-- Gateway (aligned under gateway apps) -->
  <rect x="260" y="135" width="100" height="35" fill="#e5e7eb" stroke="#6c7b7f" stroke-width="1" />
  <text x="310" y="147" text-anchor="middle" font-size="8" font-weight="bold" fill="#1f2937">gateway</text>
  <rect x="270" y="153" width="30" height="12" fill="#9ca3af"/>
  <text x="285" y="161" text-anchor="middle" font-size="6" fill="white">Zenoh</text>
  <rect x="305" y="153" width="30" height="12" fill="#9ca3af"/>
  <text x="320" y="161" text-anchor="middle" font-size="6" fill="white">DDS</text>
  <rect x="340" y="153" width="15" height="12" fill="#9ca3af"/>
  <text x="347" y="161" text-anchor="middle" font-size="6" fill="white">...</text>
  
  <!-- RMW (aligned under ROS apps) -->
  <rect x="380" y="135" width="120" height="35" fill="#e5e7eb" stroke="#6c7b7f" stroke-width="1" />
  <text x="440" y="155" text-anchor="middle" font-size="8" font-weight="bold" fill="#1f2937">rmw_iceoryx2</text>

  <!-- iceoryx2 Core Layer -->
  <rect x="20" y="190" width="560" height="60" fill="#4b5563" stroke="#374151" stroke-width="2" />
  <text x="300" y="240" text-anchor="middle" font-size="18" font-weight="bold" fill="white">iceoryx2</text>
  
  <!-- Language Bindings -->
  <rect x="30" y="200" width="540" height="20" fill="#f3f4f6" stroke="#6b7280" stroke-width="1"/>
  <text x="70" y="212" text-anchor="middle" font-size="8" font-weight="bold" fill="#1f2937">C</text>
  <text x="120" y="212" text-anchor="middle" font-size="8" font-weight="bold" fill="#1f2937">C++</text>
  <text x="170" y="212" text-anchor="middle" font-size="8" font-weight="bold" fill="#1f2937">Rust</text>
  <text x="220" y="212" text-anchor="middle" font-size="8" font-weight="bold" fill="#1f2937">Python</text>
  <text x="270" y="212" text-anchor="middle" font-size="8" font-weight="bold" fill="#6b7280">Go</text>
  <text x="320" y="212" text-anchor="middle" font-size="8" font-weight="bold" fill="#6b7280">Swift</text>
  <text x="370" y="212" text-anchor="middle" font-size="8" font-weight="bold" fill="#6b7280">Lua</text>
  <text x="420" y="212" text-anchor="middle" font-size="8" font-weight="bold" fill="#6b7280">Java</text>
  <text x="470" y="212" text-anchor="middle" font-size="8" font-weight="bold" fill="#6b7280">Zig</text>
  <text x="520" y="212" text-anchor="middle" font-size="8" font-weight="bold" fill="#6b7280">...</text>

  <!-- Platform Layer -->
  
  <!-- Bare Metal -->
  <rect x="20" y="270" width="60" height="90" fill="#9ca3af" stroke="#6b7280" stroke-width="1" />
  <text x="50" y="315" text-anchor="middle" font-size="9" font-weight="bold" fill="white">Bare</text>
  <text x="50" y="325" text-anchor="middle" font-size="9" font-weight="bold" fill="white">Metal</text>
  
  <!-- Operating Systems -->
  <rect x="90" y="270" width="350" height="45" fill="#e5e7eb" stroke="#9ca3af" stroke-width="1" />
  <text x="265" y="285" text-anchor="middle" font-size="8" font-weight="bold" fill="#1f2937">Operating Systems</text>
  
  <rect x="100" y="293" width="45" height="18" fill="white" stroke="#9ca3af"/>
  <text x="122" y="304" text-anchor="middle" font-size="7" fill="#1f2937">Android</text>
  
  <rect x="150" y="293" width="45" height="18" fill="white" stroke="#9ca3af"/>
  <text x="172" y="304" text-anchor="middle" font-size="7" fill="#1f2937">Linux</text>
  
  <rect x="200" y="293" width="45" height="18" fill="white" stroke="#9ca3af"/>
  <text x="222" y="304" text-anchor="middle" font-size="7" fill="#1f2937">macOS</text>
  
  <rect x="250" y="293" width="45" height="18" fill="white" stroke="#9ca3af"/>
  <text x="272" y="304" text-anchor="middle" font-size="7" fill="#1f2937">QNX</text>
  
  <rect x="300" y="293" width="45" height="18" fill="white" stroke="#9ca3af"/>
  <text x="322" y="304" text-anchor="middle" font-size="7" fill="#1f2937">VxWorks</text>
  
  <rect x="350" y="293" width="45" height="18" fill="white" stroke="#9ca3af"/>
  <text x="372" y="304" text-anchor="middle" font-size="7" fill="#1f2937">Windows</text>
  
  <rect x="400" y="293" width="30" height="18" fill="white" stroke="#9ca3af"/>
  <text x="415" y="304" text-anchor="middle" font-size="7" fill="#1f2937">...</text>

  <!-- GPU -->
  <rect x="450" y="270" width="60" height="90" fill="#9ca3af" stroke="#6b7280" stroke-width="1" />
  <text x="480" y="320" text-anchor="middle" font-size="9" font-weight="bold" fill="white">GPU</text>
  
  <!-- FPGA -->
  <rect x="520" y="270" width="60" height="90" fill="#9ca3af" stroke="#6b7280" stroke-width="1" />
  <text x="550" y="320" text-anchor="middle" font-size="9" font-weight="bold" fill="white">FPGA</text>

  <!-- Hardware Architecture -->
  <rect x="90" y="325" width="350" height="35" fill="#f9fafb" stroke="#6b7280" stroke-width="1" />
  <text x="265" y="338" text-anchor="middle" font-size="8" font-weight="bold" fill="#1f2937">Hardware Architectures</text>
  
  <rect x="105" y="343" width="50" height="13" fill="#9ca3af"/>
  <text x="130" y="351" text-anchor="middle" font-size="7" fill="white">x86_64</text>
  
  <rect x="160" y="343" width="50" height="13" fill="#9ca3af"/>
  <text x="185" y="351" text-anchor="middle" font-size="7" fill="white">x86_32</text>
  
  <rect x="215" y="343" width="50" height="13" fill="#9ca3af"/>
  <text x="240" y="351" text-anchor="middle" font-size="7" fill="white">AArch64</text>
  
  <rect x="270" y="343" width="50" height="13" fill="#9ca3af"/>
  <text x="295" y="351" text-anchor="middle" font-size="7" fill="white">ARMv7</text>
  
  <rect x="325" y="343" width="50" height="13" fill="#9ca3af"/>
  <text x="350" y="351" text-anchor="middle" font-size="7" fill="white">RISC-V</text>

  <rect x="380" y="343" width="50" height="13" fill="#9ca3af"/>
  <text x="405" y="351" text-anchor="middle" font-size="7" fill="white">...</text>

  <!-- Connection Arrows - Updated positions -->
  
  <!-- Direct iceoryx2 apps to core -->
  <line x1="50" y1="115" x2="50" y2="188" stroke="#6c7b7f" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="100" y1="115" x2="100" y2="188" stroke="#6c7b7f" stroke-width="1.5" marker-end="url(#arrow)"/>
  
  <!-- Tunnel app to tunnel middleware -->
  <line x1="182" y1="115" x2="182" y2="133" stroke="#6c7b7f" stroke-width="1.5" marker-end="url(#arrow)"/>
  <!-- Tunnel middleware to core -->
  <line x1="190" y1="170" x2="190" y2="188" stroke="#6c7b7f" stroke-width="1.5" marker-end="url(#arrow)"/>
  
  <!-- Gateway apps to gateway middleware -->
  <line x1="287" y1="115" x2="287" y2="133" stroke="#6c7b7f" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="332" y1="115" x2="332" y2="133" stroke="#6c7b7f" stroke-width="1.5" marker-end="url(#arrow)"/>
  <!-- Gateway middleware to core -->
  <line x1="310" y1="170" x2="310" y2="188" stroke="#6c7b7f" stroke-width="1.5" marker-end="url(#arrow)"/>
  
  <!-- ROS apps to rmw middleware -->
  <line x1="417" y1="115" x2="417" y2="133" stroke="#6c7b7f" stroke-width="1.5" marker-end="url(#arrow)"/>
  <line x1="462" y1="115" x2="462" y2="133" stroke="#6c7b7f" stroke-width="1.5" marker-end="url(#arrow)"/>
  <!-- RMW middleware to core -->
  <line x1="440" y1="170" x2="440" y2="188" stroke="#6c7b7f" stroke-width="1.5" marker-end="url(#arrow)"/>
  
  <!-- AUTOSAR app to core -->
  <line x1="560" y1="115" x2="560" y2="188" stroke="#6c7b7f" stroke-width="1.5" marker-end="url(#arrow)"/>
  
</svg>
